<!DOCTYPE html>
<html>
<head>
  <title>Biomass App</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <link rel="stylesheet" href="{{ url_for('', filename='style.css') }}">
</head>
<body>
  <h2>Biomass Calculation</h2>

  <div class="div-1">

    <div class="row">
      <div class="col-md-1">
          <nav class="navbar navbar-light">
              <a class="navbar-brand" href="/" style="color: white">
                  <span class="mb-0 h6"></span>&nbsp;Biomass&nbsp;</a></span>
                  
              </a>
          </nav>
      </div>
  <div class="col-md-9">
  </div>
  

  <label for="heightInput">Height:</label>
  <input type="number" id="heightInput" step="0.01" value="0" />
  <select id="dropdown"></select>
  <p id="result"></p>

  <script>
    const csvUrl = "https://raw.githubusercontent.com/hamidzar/hamidzar.github.io/main/biomass/cities.csv"; // Replace with your actual CSV URL
    d3.csv(csvUrl).then(data => {
      const dropdown = document.getElementById("dropdown");

      // Populate dropdown with city and humidity
      data.forEach(row => {
        const option = document.createElement("option");
        option.value = row.Humidity;
        option.text = `${row.City} (${row.Humidity}%)`;
        dropdown.appendChild(option);
      });

      // Handle selection change
      dropdown.addEventListener("change", function () {
        const selectedHumidity = +this.value;
        const result = selectedHumidity * 5;
        document.getElementById("result").innerText = `Result: ${result}`;
      });

      // Trigger initial calculation
      dropdown.dispatchEvent(new Event("change"));
    });
  </script>
</body>
</html>

